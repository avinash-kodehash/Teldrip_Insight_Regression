{"uid":"1b112806fde2747b","name":"test_reporting_export_this_page","fullName":"tests.test_reporting#test_reporting_export_this_page","historyId":"33a51106bf2e2b8502230901bcf37c62","time":{"start":1756822147841,"stop":1756822180661,"duration":32820},"status":"failed","statusMessage":"AssertionError: DataFrame.iloc[:, 10] (column name=\"Destination Name\") are different\n\nDataFrame.iloc[:, 10] (column name=\"Destination Name\") values are different (76.0 %)\n[index]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]\n[left]:  [test_system_4, test_system_4, test_system_4, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_1, test_sytem_3, test_sytem_2, test_sytem_1, test_sytem_3, test_sytem_2, test_sytem_2, test_sytem_2, test_sytem_3, test_sytem_2, test_sytem_3, test_sytem_3, test_sytem_2, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_2, test_sytem_2, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_3, test_sytem_1, test_sytem_3, test_sytem_2, test_sytem_3, test_sytem_2, test_sytem_2, test_sytem_1, nan, test_sytem_2, test_sytem_3, test_sytem_3, test_sytem_2, test_sytem_1, dest4, dest4, dest4, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, dest4, nan, nan, nan, nan, nan, nan, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, nan, test_system_4, nan, nan, test_sytem_1, test_sytem_1, test_sytem_1, nan, nan, nan, nan, nan, nan, test_system_4, test_system_4, test_system_4, test_sytem_1, nan, nan, nan, test_system_4, test_system_4, test_system_4, test_system_4, test_sytem_1, test_sytem_1, test_sytem_1, nan, nan, nan, nan, nan, test_system_4]\n[right]: [TestSystem4, TestSystem4, TestSystem4, TestSytem3, TestSytem3, TestSytem3, TestSytem3, TestSytem1, TestSytem3, TestSytem2, TestSytem1, TestSytem3, TestSytem2, TestSytem2, TestSytem2, TestSytem3, TestSytem2, TestSytem3, TestSytem3, TestSytem2, TestSytem3, TestSytem3, TestSytem3, TestSytem3, TestSytem3, TestSytem2, TestSytem2, TestSytem1, TestSytem1, TestSytem1, TestSytem3, TestSytem1, TestSytem3, TestSytem2, TestSytem3, TestSytem2, TestSytem2, TestSytem1, nan, TestSytem2, TestSytem3, TestSytem3, TestSytem2, TestSytem1, Dest4, Dest4, Dest4, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, Dest4, nan, nan, nan, nan, nan, nan, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, nan, TestSystem4, nan, nan, TestSytem1, TestSytem1, TestSytem1, nan, nan, nan, nan, nan, nan, TestSystem4, TestSystem4, TestSystem4, TestSytem1, nan, nan, nan, TestSystem4, TestSystem4, TestSystem4, TestSystem4, TestSytem1, TestSytem1, TestSytem1, nan, nan, nan, nan, nan, TestSystem4]\nAt positional index 0, first diff: test_system_4 != TestSystem4","statusTrace":"driver_with_downloads = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"38d60dbec9c391fe50a60898c93c3552\")>\n\n    def test_reporting_export_this_page(driver_with_downloads):\n        driver = driver_with_downloads\n        lp = LoginPage(driver)\n        r = Reporting(driver)\n        lp.do_login(Constant.USERNAME, Constant.PASSWORD)\n        db = DashBoard(driver)\n        db.element_displayed(db.DASHBOARD_TEXT)\n        db.click_reporting_ele()\n        r.set_date()\n        time.sleep(2)\n        r.do_click(r.REFRESH_BUTTON)\n        time.sleep(3)\n        r.scroll_to_element(r.CALL_DETAILS_TAB)\n        r.element_displayed(r.FIRST_CELL)\n        r.select_table_dropdown(\"100\")\n        r.element_displayed(r.FIRST_CELL)\n        r.scroll_to_element(r.TOTAL_CALLS)\n        r.do_click(r.EXPORT_BUTTON)\n        r.do_click(r.EXPORT_SUB_BUTTON)\n        time.sleep(2)\n        files = [f for f in os.listdir(driver.download_dir) if f.endswith(\".csv\")]\n        assert files, \"No CSV file found!\"\n        csv_file_path = os.path.join(driver.download_dir, files[0])\n        # read downloaded csv\n        csv_data = pd.read_csv(csv_file_path, sep=\",\", engine=\"python\")\n        # get UI dataframe\n        ui_df = r.get_table_as_dataframe()\n        # save UI data for debugging/reference\n        ui_df.to_csv(\"ui_data.csv\", index=False)\n        ui_csv = pd.read_csv(\"ui_data.csv\")\n        # Strip column names\n        csv_data.columns = [col.strip() for col in csv_data.columns]\n        ui_csv.columns = [col.strip() for col in ui_csv.columns]\n        #csv_data = csv_data[ui_df.columns]\n        csv_data = csv_data.astype(str)\n        ui_csv = ui_csv.astype(str)\n        csv_data = csv_data.applymap(normalize_value)\n        ui_csv = ui_csv.applymap(normalize_value)\n        # compare\n>       pd.testing.assert_frame_equal(csv_data, ui_csv, check_dtype=False)\n\ntests\\test_reporting.py:294: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npandas/_libs/testing.pyx:55: in pandas._libs.testing.assert_almost_equal\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n>   ???\nE   AssertionError: DataFrame.iloc[:, 10] (column name=\"Destination Name\") are different\nE   \nE   DataFrame.iloc[:, 10] (column name=\"Destination Name\") values are different (76.0 %)\nE   [index]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]\nE   [left]:  [test_system_4, test_system_4, test_system_4, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_1, test_sytem_3, test_sytem_2, test_sytem_1, test_sytem_3, test_sytem_2, test_sytem_2, test_sytem_2, test_sytem_3, test_sytem_2, test_sytem_3, test_sytem_3, test_sytem_2, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_3, test_sytem_2, test_sytem_2, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_3, test_sytem_1, test_sytem_3, test_sytem_2, test_sytem_3, test_sytem_2, test_sytem_2, test_sytem_1, nan, test_sytem_2, test_sytem_3, test_sytem_3, test_sytem_2, test_sytem_1, dest4, dest4, dest4, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, dest4, nan, nan, nan, nan, nan, nan, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, test_sytem_1, nan, test_system_4, nan, nan, test_sytem_1, test_sytem_1, test_sytem_1, nan, nan, nan, nan, nan, nan, test_system_4, test_system_4, test_system_4, test_sytem_1, nan, nan, nan, test_system_4, test_system_4, test_system_4, test_system_4, test_sytem_1, test_sytem_1, test_sytem_1, nan, nan, nan, nan, nan, test_system_4]\nE   [right]: [TestSystem4, TestSystem4, TestSystem4, TestSytem3, TestSytem3, TestSytem3, TestSytem3, TestSytem1, TestSytem3, TestSytem2, TestSytem1, TestSytem3, TestSytem2, TestSytem2, TestSytem2, TestSytem3, TestSytem2, TestSytem3, TestSytem3, TestSytem2, TestSytem3, TestSytem3, TestSytem3, TestSytem3, TestSytem3, TestSytem2, TestSytem2, TestSytem1, TestSytem1, TestSytem1, TestSytem3, TestSytem1, TestSytem3, TestSytem2, TestSytem3, TestSytem2, TestSytem2, TestSytem1, nan, TestSytem2, TestSytem3, TestSytem3, TestSytem2, TestSytem1, Dest4, Dest4, Dest4, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, Dest4, nan, nan, nan, nan, nan, nan, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, TestSytem1, nan, TestSystem4, nan, nan, TestSytem1, TestSytem1, TestSytem1, nan, nan, nan, nan, nan, nan, TestSystem4, TestSystem4, TestSystem4, TestSytem1, nan, nan, nan, TestSystem4, TestSystem4, TestSystem4, TestSystem4, TestSytem1, TestSytem1, TestSytem1, nan, nan, nan, nan, nan, TestSystem4]\nE   At positional index 0, first diff: test_system_4 != TestSystem4\n\npandas/_libs/testing.pyx:173: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver_with_downloads","time":{"start":1756822143175,"stop":1756822147840,"duration":4665},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"afterStages":[{"name":"driver_with_downloads::0","time":{"start":1756822180921,"stop":1756822183104,"duration":2183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting"},{"name":"host","value":"DESKTOP-THM7RLI"},{"name":"thread","value":"14548-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"1b112806fde2747b.json","parameterValues":[]}