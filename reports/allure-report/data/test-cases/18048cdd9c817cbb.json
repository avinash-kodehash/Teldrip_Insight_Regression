{"uid":"18048cdd9c817cbb","name":"test_reporting_export_this_page","fullName":"tests.test_reporting#test_reporting_export_this_page","historyId":"33a51106bf2e2b8502230901bcf37c62","time":{"start":1756569959124,"stop":1756569979303,"duration":20179},"status":"failed","statusMessage":"AssertionError: Mismatch:\n  UI:\n             Date & Time                       Campaign  ... Revenue Payout\n  0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\n  \n  [10 rows x 16 columns]\n  CSV:\n             Date & Time                       Campaign  ... Revenue  Payout\n  0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\n  \n  [10 rows x 16 columns]\nassert False\n +  where False = equals(           Date & Time                       Campaign  ... Revenue Payout\\n0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n\\n[10 rows x 16 columns])\n +    where equals =            Date & Time                       Campaign  ... Revenue  Payout\\n0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n\\n[10 rows x 16 columns].equals","statusTrace":"driver_with_downloads = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"454ee1e76906c2ef4aec0ce0f3ffd915\")>\n\n    def test_reporting_export_this_page(driver_with_downloads):\n        driver = driver_with_downloads\n        lp = LoginPage(driver)\n        r = Reporting(driver)\n        lp.do_login(Constant.USERNAME, Constant.PASSWORD)\n        db = DashBoard(driver)\n        db.element_displayed(db.DASHBOARD_TEXT)\n        db.click_reporting_ele()\n        r.set_date()\n        time.sleep(2)\n        r.do_click(r.REFRESH_BUTTON)\n        r.do_click(r.EXPORT_BUTTON)\n        r.do_click(r.EXPORT_SUB_BUTTON)\n        time.sleep(3)\n        files = [f for f in os.listdir(driver.download_dir) if f.endswith(\".csv\")]\n        assert files, \"No CSV file found!\"\n        csv_file_path = os.path.join(driver.download_dir, files[0])\n        csv_data = pd.read_csv(csv_file_path)\n        ui_df = r.get_table_as_dataframe()\n        # Strip column names\n        csv_data.columns = [col.strip() for col in csv_data.columns]\n        ui_df.columns = [col.strip() for col in ui_df.columns]\n    \n        # Normalize \"Date & Time\" column\n        def normalize_datetime(val):\n            return re.sub(r'\\s+', ' ', val) if isinstance(val, str) else val\n    \n        csv_data['Date & Time'] = csv_data['Date & Time'].apply(normalize_datetime)\n        ui_df['Date & Time'] = ui_df['Date & Time'].apply(normalize_datetime)\n    \n        # If needed, combine Revenue and Payout in CSV to match UI\n        if 'Revenue' in csv_data.columns and 'Payout' in csv_data.columns and 'Revenue Payout' in ui_df.columns:\n            csv_data['Revenue Payout'] = csv_data['Revenue'] + ' ' + csv_data['Payout']\n    \n        # Reorder columns to match\n        csv_data = csv_data[ui_df.columns]\n        # Compare\n>       assert csv_data.equals(ui_df), f\"Mismatch:\\nUI:\\n{ui_df}\\nCSV:\\n{csv_data}\"\nE       AssertionError: Mismatch:\nE         UI:\nE                    Date & Time                       Campaign  ... Revenue Payout\nE         0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\nE         \nE         [10 rows x 16 columns]\nE         CSV:\nE                    Date & Time                       Campaign  ... Revenue  Payout\nE         0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\nE         \nE         [10 rows x 16 columns]\nE       assert False\nE        +  where False = equals(           Date & Time                       Campaign  ... Revenue Payout\\n0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00  $0.00\\n\\n[10 rows x 16 columns])\nE        +    where equals =            Date & Time                       Campaign  ... Revenue  Payout\\n0  07/30/2025 06:01:33  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n1  07/30/2025 06:01:32  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n2  07/30/2025 06:01:31  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n3  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n4  07/30/2025 06:01:30  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n5  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n6  07/30/2025 06:00:02  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n7  07/30/2025 06:00:00  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n8  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n9  07/30/2025 05:59:59  Campaign Testing - 09.09.2024  ...   $0.00   $0.00\\n\\n[10 rows x 16 columns].equals\n\ntests\\test_reporting.py:284: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver_with_downloads","time":{"start":1756569953537,"stop":1756569959123,"duration":5586},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false}],"afterStages":[{"name":"driver_with_downloads::0","time":{"start":1756569979465,"stop":1756569981657,"duration":2192},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting"},{"name":"host","value":"DESKTOP-THM7RLI"},{"name":"thread","value":"5620-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"18048cdd9c817cbb.json","parameterValues":[]}