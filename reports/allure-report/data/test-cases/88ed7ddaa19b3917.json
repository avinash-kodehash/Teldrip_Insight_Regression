{"uid":"88ed7ddaa19b3917","name":"test_reporting_export_all_data","fullName":"tests.test_reporting#test_reporting_export_all_data","historyId":"417b6463bd44627a8cb9fd484c629ace","time":{"start":1758798096950,"stop":1758798252253,"duration":155303},"status":"failed","statusMessage":"AssertionError: DataFrame.columns are different\n\nDataFrame.columns values are different (25.0 %)\n[left]:  Index(['Date & Time', 'Campaign', 'Publisher', 'Caller Id', 'Dialed Number',\n       'Duplicate', 'Hang Up', 'Time to Connect', 'City', 'State',\n       'Destination Name', 'Destination Number', 'Destination Status',\n       'Revenue', 'Payout', 'Duration'],\n      dtype='object')\n[right]: Index(['Date & Time', 'Campaign', 'Publisher', 'Caller ID', 'Dialed Number',\n       'Duplicate', 'Hang Up', 'Time to Connect', 'City', 'State',\n       'Destination Name', 'Destination Number', 'Destination Status',\n       'Duration', 'Revenue', 'Payout'],\n      dtype='object')\nAt positional index 3, first diff: Caller Id != Caller ID","statusTrace":"driver_with_downloads = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"71e04f3391dfdc39a0d869d2cd88f6c0\")>\n\n    def test_reporting_export_all_data(driver_with_downloads):\n        driver = driver_with_downloads\n        lp = LoginPage(driver)\n        r = Reporting(driver)\n        lp.do_login(Constant.USERNAME, Constant.PASSWORD)\n        db = DashBoard(driver)\n        db.element_displayed(db.DASHBOARD_TEXT)\n        db.click_reporting_ele()\n        r.set_date(Constant.DATE_RANGE)\n        time.sleep(2)\n        r.do_click(r.REFRESH_BUTTON)\n        time.sleep(3)\n        r.scroll_to_element(r.CALL_DETAILS_TAB)\n        assert isinstance(r.is_table_data_present(), str), \"Table data not present\"\n        r.select_table_dropdown(\"100\")\n        assert isinstance(r.is_table_data_present(), str), \"Table data not present\"\n        r.scroll_to_element(r.REVENUE)\n        r.do_click(r.EXPORT_BUTTON)\n        r.do_click(r.EXPORT_ALL_ROWS)\n        r.do_click(r.EXPORT_SUB_BUTTON_ALL_DATA)\n        time.sleep(20)\n        files = [f for f in os.listdir(driver.download_dir) if f.endswith(\".csv\")]\n        assert files, \"No CSV file found!\"\n        csv_file_path = os.path.join(driver.download_dir, files[0])\n        # read downloaded csv\n        csv_data = pd.read_csv(csv_file_path, sep=\",\", engine=\"python\")\n        # get UI dataframe\n        r.scroll_to_element(r.TABLE_NEXT_BUTTON)\n        ui_df = r.get_all_pages_as_dataframe()\n        # save UI data for debugging/reference\n        ui_df.to_csv(\"ui_all_data.csv\", index=False)\n        ui_csv = pd.read_csv(\"ui_all_data.csv\")\n        # Strip column names\n        csv_data.columns = [col.strip() for col in csv_data.columns]\n        ui_csv.columns = [col.strip() for col in ui_csv.columns]\n        # csv_data = csv_data[ui_df.columns]\n        csv_data = csv_data.astype(str)\n        ui_csv = ui_csv.astype(str)\n        csv_data = csv_data.applymap(normalize_value)\n        ui_csv = ui_csv.applymap(normalize_value)\n        # compare\n>       pd.testing.assert_frame_equal(csv_data, ui_csv, check_dtype=False)\n\ntests\\test_reporting.py:346: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npandas/_libs/testing.pyx:55: in pandas._libs.testing.assert_almost_equal\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n>   ???\nE   AssertionError: DataFrame.columns are different\nE   \nE   DataFrame.columns values are different (25.0 %)\nE   [left]:  Index(['Date & Time', 'Campaign', 'Publisher', 'Caller Id', 'Dialed Number',\nE          'Duplicate', 'Hang Up', 'Time to Connect', 'City', 'State',\nE          'Destination Name', 'Destination Number', 'Destination Status',\nE          'Revenue', 'Payout', 'Duration'],\nE         dtype='object')\nE   [right]: Index(['Date & Time', 'Campaign', 'Publisher', 'Caller ID', 'Dialed Number',\nE          'Duplicate', 'Hang Up', 'Time to Connect', 'City', 'State',\nE          'Destination Name', 'Destination Number', 'Destination Status',\nE          'Duration', 'Revenue', 'Payout'],\nE         dtype='object')\nE   At positional index 3, first diff: Caller Id != Caller ID\n\npandas/_libs/testing.pyx:173: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver_with_downloads","time":{"start":1758798088848,"stop":1758798096949,"duration":8101},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"afterStages":[{"name":"driver_with_downloads::0","time":{"start":1758798252467,"stop":1758798254816,"duration":2349},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting"},{"name":"host","value":"DESKTOP-THM7RLI"},{"name":"thread","value":"10464-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"88ed7ddaa19b3917.json","parameterValues":[]}