{"uid":"bb56c98b10cf6793","name":"test_reporting_export_this_page","fullName":"tests.test_reporting#test_reporting_export_this_page","historyId":"33a51106bf2e2b8502230901bcf37c62","time":{"start":1756632682732,"stop":1756632704824,"duration":22092},"status":"failed","statusMessage":"AssertionError: DataFrame.iloc[:, 3] (column name=\"Caller ID\") are different\n\nDataFrame.iloc[:, 3] (column name=\"Caller ID\") values are different (100.0 %)\n[index]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n[left]:  [19803271868, 19787971079, 12568548442, 13644440950, 17543060630, 19803271868, 19787971079, 12568548442, 13644440950, 17543060630]\n[right]: [+19803271868, +19787971079, +12568548442, +13644440950, +17543060630, +19803271868, +19787971079, +12568548442, +13644440950, +17543060630]","statusTrace":"driver_with_downloads = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"aa517ecdc65ee53c50d6dd062a66186d\")>\n\n    def test_reporting_export_this_page(driver_with_downloads):\n        driver = driver_with_downloads\n        lp = LoginPage(driver)\n        r = Reporting(driver)\n        lp.do_login(Constant.USERNAME, Constant.PASSWORD)\n        db = DashBoard(driver)\n        db.element_displayed(db.DASHBOARD_TEXT)\n        db.click_reporting_ele()\n        r.set_date()\n        time.sleep(2)\n        r.do_click(r.REFRESH_BUTTON)\n        r.do_click(r.EXPORT_BUTTON)\n        r.do_click(r.EXPORT_SUB_BUTTON)\n        time.sleep(3)\n        files = [f for f in os.listdir(driver.download_dir) if f.endswith(\".csv\")]\n        assert files, \"No CSV file found!\"\n        csv_file_path = os.path.join(driver.download_dir, files[0])\n        # read downloaded csv\n        csv_data = pd.read_csv(csv_file_path, sep=\",\", engine=\"python\")\n        # get UI dataframe\n        ui_df = r.get_table_as_dataframe()\n        # save UI data for debugging/reference\n        ui_df.to_csv(\"ui_data.csv\", index=False)\n        # Strip column names\n        csv_data.columns = [col.strip() for col in csv_data.columns]\n        ui_df.columns = [col.strip() for col in ui_df.columns]\n        #csv_data = csv_data[ui_df.columns]\n        csv_data = csv_data.applymap(remove_all_spaces)\n        ui_df = ui_df.applymap(remove_all_spaces)\n        # compare\n>       pd.testing.assert_frame_equal(csv_data, ui_df, check_dtype=False)\n\ntests\\test_reporting.py:282: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nleft = array([19803271868, 19787971079, 12568548442, 13644440950, 17543060630,\n       19803271868, 19787971079, 12568548442, 13644440950, 17543060630])\nright = array(['+19803271868', '+19787971079', '+12568548442', '+13644440950',\n       '+17543060630', '+19803271868', '+19787971079', '+12568548442',\n       '+13644440950', '+17543060630'], dtype=object)\nerr_msg = None\n\n    def _raise(left, right, err_msg) -> NoReturn:\n        if err_msg is None:\n            if left.shape != right.shape:\n                raise_assert_detail(\n                    obj, f\"{obj} shapes are different\", left.shape, right.shape\n                )\n    \n            diff = 0\n            for left_arr, right_arr in zip(left, right):\n                # count up differences\n                if not array_equivalent(left_arr, right_arr, strict_nan=strict_nan):\n                    diff += 1\n    \n            diff = diff * 100.0 / left.size\n            msg = f\"{obj} values are different ({np.round(diff, 5)} %)\"\n>           raise_assert_detail(obj, msg, left, right, index_values=index_values)\nE           AssertionError: DataFrame.iloc[:, 3] (column name=\"Caller ID\") are different\nE           \nE           DataFrame.iloc[:, 3] (column name=\"Caller ID\") values are different (100.0 %)\nE           [index]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nE           [left]:  [19803271868, 19787971079, 12568548442, 13644440950, 17543060630, 19803271868, 19787971079, 12568548442, 13644440950, 17543060630]\nE           [right]: [+19803271868, +19787971079, +12568548442, +13644440950, +17543060630, +19803271868, +19787971079, +12568548442, +13644440950, +17543060630]\n\n.venv\\Lib\\site-packages\\pandas\\_testing\\asserters.py:690: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver_with_downloads","time":{"start":1756632671621,"stop":1756632682731,"duration":11110},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false}],"afterStages":[{"name":"driver_with_downloads::0","time":{"start":1756632705001,"stop":1756632707178,"duration":2177},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting"},{"name":"host","value":"DESKTOP-THM7RLI"},{"name":"thread","value":"4564-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"bb56c98b10cf6793.json","parameterValues":[]}