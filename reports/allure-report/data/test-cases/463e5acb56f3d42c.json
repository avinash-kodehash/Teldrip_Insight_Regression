{"uid":"463e5acb56f3d42c","name":"test_export_offer","fullName":"tests.test_offer#test_export_offer","historyId":"4708d067d01fce0834722e65bb61c4bd","time":{"start":1758716454744,"stop":1758716469209,"duration":14465},"status":"broken","statusMessage":"KeyError: \"['S.no'] not found in axis\"","statusTrace":"driver_with_downloads = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7b7b5ef03c01ecc273bb214168dfeb0e\")>\n\n    def test_export_offer(driver_with_downloads):\n        driver = driver_with_downloads\n        lp = LoginPage(driver)\n        o = Offer(driver)\n        lp.do_login(Constant.USERNAME, Constant.PASSWORD)\n        db = DashBoard(driver)\n        db.element_displayed(db.DASHBOARD_TEXT)\n        db.click_offer_ele()\n        assert isinstance(o.is_table_data_present(), str), \"Table data not present\"\n        o.js_click(o.OFFER_EXPORT_BTN)\n        time.sleep(5)\n        files = [f for f in os.listdir(driver.download_dir) if f.endswith(\".csv\")]\n        assert files, \"No CSV file found!\"\n        csv_file_path = os.path.join(driver.download_dir, files[0])\n        csv_data = pd.read_csv(csv_file_path, sep=\",\", engine=\"python\")\n        # get UI dataframe\n>       ui_df = o.get_all_pages_as_dataframe()\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_offer.py:207: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\offer_page.py:238: in get_all_pages_as_dataframe\n    return self.extract_all_pages_as_dataframe(self.TABLE, self.TABLE_NEXT_BUTTON, exclude_last_n=2)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npages\\base_page.py:84: in extract_all_pages_as_dataframe\n    df_page = self.extract_table_as_dataframe(\npages\\base_page.py:68: in extract_table_as_dataframe\n    df = df.drop(columns=['S.no'])\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv\\Lib\\site-packages\\pandas\\core\\frame.py:5588: in drop\n    return super().drop(\n.venv\\Lib\\site-packages\\pandas\\core\\generic.py:4807: in drop\n    obj = obj._drop_axis(labels, axis, level=level, errors=errors)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv\\Lib\\site-packages\\pandas\\core\\generic.py:4849: in _drop_axis\n    new_axis = axis.drop(labels, errors=errors)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = Index(['S.No', 'Offer ID', 'Offer Name', 'Start Date', 'End Date', 'Country',\n       'Status', 'Request Received'],\n      dtype='object')\nlabels = array(['S.no'], dtype=object), errors = 'raise'\n\n    def drop(\n        self,\n        labels: Index | np.ndarray | Iterable[Hashable],\n        errors: IgnoreRaise = \"raise\",\n    ) -> Index:\n        \"\"\"\n        Make new Index with passed list of labels deleted.\n    \n        Parameters\n        ----------\n        labels : array-like or scalar\n        errors : {'ignore', 'raise'}, default 'raise'\n            If 'ignore', suppress error and existing labels are dropped.\n    \n        Returns\n        -------\n        Index\n            Will be same type as self, except for RangeIndex.\n    \n        Raises\n        ------\n        KeyError\n            If not all of the labels are found in the selected axis\n    \n        Examples\n        --------\n        >>> idx = pd.Index(['a', 'b', 'c'])\n        >>> idx.drop(['a'])\n        Index(['b', 'c'], dtype='object')\n        \"\"\"\n        if not isinstance(labels, Index):\n            # avoid materializing e.g. RangeIndex\n            arr_dtype = \"object\" if self.dtype == \"object\" else None\n            labels = com.index_labels_to_array(labels, dtype=arr_dtype)\n    \n        indexer = self.get_indexer_for(labels)\n        mask = indexer == -1\n        if mask.any():\n            if errors != \"ignore\":\n>               raise KeyError(f\"{labels[mask].tolist()} not found in axis\")\nE               KeyError: \"['S.no'] not found in axis\"\n\n.venv\\Lib\\site-packages\\pandas\\core\\indexes\\base.py:7136: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver_with_downloads","time":{"start":1758716445784,"stop":1758716454744,"duration":8960},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"afterStages":[{"name":"driver_with_downloads::0","time":{"start":1758716470211,"stop":1758716472407,"duration":2196},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_offer"},{"name":"host","value":"DESKTOP-THM7RLI"},{"name":"thread","value":"14688-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_offer"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"463e5acb56f3d42c.json","parameterValues":[]}